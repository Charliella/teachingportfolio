<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ç‹åœ‹å‹‡è€…ï¼šæ•¸å­¸ä¹‹ç›¾ Final Ultra Pro</title>
    <style>
        :root {
            --neon-green: #00ff41; --neon-orange: #f39c12; --neon-red: #ff003c;
            --neon-blue: #00d2ff; --bg-dark: #0a0a0b;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        html, body { 
            height: 100dvh; width: 100vw; margin: 0; padding: 0; 
            overflow: hidden; background-color: var(--bg-dark);
            font-family: 'PingFang TC', 'Microsoft JhengHei', sans-serif; color: #fff;
        }

        /* ä¸»å®¹å™¨ä½ˆå±€å„ªåŒ– */
        .game-wrapper {
            display: grid;
            grid-template-columns: 1fr 180px; /* å›ºå®šå³å´å¯¬åº¦ */
            grid-template-rows: auto auto 1fr auto; /* æ¨™é¡Œã€çµ±è¨ˆã€é¡Œç›®ã€æŒ‰éˆ• */
            gap: 10px;
            height: 100dvh;
            padding: 10px;
        }

        /* æ¨™é¡Œèˆ‡å›é¥‹å€ */
        .level-header {
            grid-column: 1 / 2;
            background: rgba(243, 156, 18, 0.15);
            border-left: 8px solid var(--neon-orange);
            display: flex; justify-content: space-between; align-items: center;
            padding: 10px 15px;
            height: 60px;
        }
        .level-header h2 { margin: 0; font-size: 24px; color: var(--neon-orange); }
        #feedback { font-size: 24px; font-weight: 900; }

        /* çµ±è¨ˆå¡ç‰‡å€ */
        .stats-row { 
            grid-column: 1 / 2;
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; 
        }
        .stat-card { background: #1a1a1f; border: 1px solid #444; padding: 5px; text-align: center; border-radius: 10px; }
        .stat-label { font-size: 12px; color: #888; display: block; }
        .stat-value { font-size: 18px; font-weight: bold; color: var(--neon-blue); }

        /* é¡Œç›®é¡¯ç¤ºå€ï¼šè‡ªå‹•å»¶ä¼¸å¡«æ»¿ */
        .question-display {
            grid-column: 1 / 2;
            background: #000; border: 3px solid #333;
            display: flex; justify-content: center; align-items: center;
            font-size: 12vh; font-weight: 900; color: var(--neon-green);
            text-shadow: 0 0 20px rgba(0, 255, 65, 0.5);
            text-align: center; border-radius: 15px;
            min-height: 0; 
        }

        /* è§£ç­”è¼¸å…¥å€ */
        .answer-row { 
            position: absolute; bottom: 42%; left: 10px; right: 190px;
            display: flex; justify-content: center; gap: 10px; pointer-events: none;
        }
        .input-box {
            background: rgba(0,0,0,0.8); border: 4px solid #555; color: var(--neon-green);
            width: 120px; height: 70px; font-size: 40px; text-align: center; border-radius: 15px;
            pointer-events: auto;
        }
        .input-box.active { border-color: var(--neon-green); box-shadow: 0 0 20px rgba(0, 255, 65, 0.4); }

        /* å³å´æ’è¡Œæ¦œ */
        .side-panel {
            grid-column: 2 / 3;
            grid-row: 1 / 5;
            background: #111; border: 2px solid var(--neon-blue);
            padding: 10px; display: flex; flex-direction: column; border-radius: 15px;
            overflow: hidden;
        }
        .side-panel h3 { font-size: 18px; color: var(--neon-blue); text-align: center; margin: 0 0 10px 0; border-bottom: 1px solid var(--neon-blue); padding-bottom: 5px; }
        .rank-list { list-style: none; padding: 0; margin: 0; flex-grow: 1; overflow-y: auto; }
        .rank-item { padding: 6px; font-size: 14px; color: #555; border-bottom: 1px solid #222; }
        .rank-item.active { color: #fff; background: var(--neon-blue); font-weight: bold; border-radius: 5px; }

        /* æ§åˆ¶å€åŸŸï¼šå›ºå®šåœ¨åº•éƒ¨ */
        .controls-row {
            grid-column: 1 / 2;
            display: grid; grid-template-columns: 1.5fr 1fr; gap: 10px;
            height: 38vh; 
        }
        .keypad { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
        .key { background: #222; border: 1px solid #666; color: #fff; font-size: 28px; cursor: pointer; border-radius: 12px; font-weight: bold; }
        .key:active { background: #444; }
        .key.action { background: var(--neon-orange); color: #000; }
        .key.delete { background: var(--neon-red); }

        .btn-side { display: flex; flex-direction: column; gap: 8px; }
        .special-btn {
            flex: 1; border: none; font-weight: 900; font-size: 18px; color: #fff; cursor: pointer; border-radius: 12px;
            display: flex; align-items: center; justify-content: center; padding: 5px;
        }
        .cheat-btn { background: #700; border: 2px solid var(--neon-red); }
        .rest-btn { background: #005577; border: 2px solid var(--neon-blue); }

        /* æ•…äº‹å½ˆçª—å„ªåŒ– */
        .modal {
            display: none; position: fixed; inset: 0;
            background: rgba(0,0,0,0.98); justify-content: center; align-items: center; z-index: 11000;
        }
        .modal-content {
            background: #111; border: 4px solid var(--neon-blue); padding: 20px;
            width: 90vw; height: 90dvh; display: flex; flex-direction: column; border-radius: 20px;
        }
        #restStory { 
            font-size: 20px; color: #f0f0f0; line-height: 1.6; text-align: left; 
            overflow-y: auto; flex-grow: 1; margin: 15px 0; padding: 15px; 
            background: #050505; border-radius: 15px;
        }
        #restStory b { color: var(--neon-orange); }
        #playerName { font-size: 24px; width: 100%; padding: 10px; background: #000; color: var(--neon-blue); border: 2px solid var(--neon-blue); border-radius: 10px; text-align: center; }

        .overlay {
            position: fixed; inset: 0; background: #000; z-index: 10000; 
            display: flex; justify-content: center; align-items: center; padding: 20px; text-align: center;
        }
    </style>
</head>
<body>

<div id="prologueOverlay" class="overlay">
    <div style="max-width: 600px;">
        <h1 style="font-size: 40px; color: var(--neon-orange); margin-bottom: 20px;">âœ¨ ç‹åœ‹ç®—è¡“å±æ©Ÿ âœ¨</h1>
        <p style="font-size: 20px; line-height: 1.5; color: #ccc;">ã€Œå¡çˆ¾å…‹åˆ©äºç‹åœ‹ã€çš„æ•¸å­—æ ¸å¿ƒè¢«æ‰“ç¢äº†ï¼<br>ç¾åœ¨å¤§å®¶éƒ½ä¸æœƒç®—æ•¸å•¦ï¼<br><br><b>ç®—è¡“å‹‡è€…å•Šï¼Œè«‹ç”¨ä½ çš„æ™ºæ…§ä¿®æ­£é€™ä¸€åˆ‡å§ï¼</b></p>
        <button class="key action" style="padding: 15px 40px; font-size: 24px; margin-top: 30px; height: auto;" onclick="startGame()">é–‹å§‹å†’éšªï¼</button>
    </div>
</div>

<div class="game-wrapper">
    <div class="level-header">
        <h2 id="levelTitle">LOADING...</h2>
        <div id="feedback" style="color: #666;">READY</div>
    </div>

    <div class="stats-row">
        <div class="stat-card"><span class="stat-label">èº«åˆ†</span><span class="stat-value" id="lvlStatus">...</span></div>
        <div class="stat-card"><span class="stat-label">é€£å‹</span><span class="stat-value" id="streak">0</span></div>
        <div class="stat-card"><span class="stat-label">å¹³å‡</span><span class="stat-value" id="avgTime">0</span>s</div>
        <div class="stat-card"><span class="stat-label">ç›®æ¨™</span><span id="goalCond" style="font-size:10px; color:#999;">-</span></div>
    </div>

    <div class="question-display" id="questionDisplay">---</div>

    <div class="answer-row">
        <input type="number" class="input-box active" id="ansMain" readonly placeholder="?">
        <div id="remainderZone" style="display:none">
            <input type="number" class="input-box" id="ansRem" readonly placeholder="é¤˜">
        </div>
    </div>

    <div class="side-panel">
        <h3>å‹‡è€…æ’è¡Œæ¦œ</h3>
        <ul class="rank-list" id="rankListDisplay"></ul>
    </div>

    <div class="controls-row">
        <div class="keypad">
            <button class="key" onclick="pressKey(1)">1</button><button class="key" onclick="pressKey(2)">2</button><button class="key" onclick="pressKey(3)">3</button>
            <button class="key" onclick="pressKey(4)">4</button><button class="key" onclick="pressKey(5)">5</button><button class="key" onclick="pressKey(6)">6</button>
            <button class="key" onclick="pressKey(7)">7</button><button class="key" onclick="pressKey(8)">8</button><button class="key" onclick="pressKey(9)">9</button>
            <button class="key delete" onclick="pressKey('C')">C</button><button class="key" onclick="pressKey(0)">0</button>
            <button class="key action" onclick="check()">GO</button>
        </div>
        <div class="btn-side">
            <button class="special-btn cheat-btn" onclick="execCheat()">ä½œå¼Šæ´å¯Ÿ</button>
            <button class="special-btn rest-btn" onclick="openRest()">ä¼‘æ¯çµç®—</button>
            <button class="key" style="background:none; border: 1px solid #444; font-size: 14px;" onclick="location.reload()">é‡æ–°å•Ÿå‹•</button>
        </div>
    </div>
</div>

<div id="modal" class="modal">
    <div class="modal-content">
        <h2 style="color:var(--neon-blue); font-size: 32px; margin:0; text-align:center;">ğŸ“– å‹‡è€…å†’éšªæ—¥è¨˜</h2>
        <div id="inputArea">
            <p style="font-size: 18px; margin: 15px 0; text-align:center;">å‹‡è€…çš„åå­—ï¼š</p>
            <input type="text" id="playerName" placeholder="è¼¸å…¥åç¨±...">
        </div>
        <div id="restStory" style="display:none;"></div>
        <button class="key action" style="width:100%; height: 60px; font-size: 24px; margin-top:10px;" id="modalBtn" onclick="confirmRest()">ç¢ºèªå­˜æª”</button>
    </div>
</div>

<script>
    const levels = [
        { name: "é‹¼éµå‰å“¨ (åŠ æ³•)", type: "add", fast: [4, 3], slow: [8, 7] },
        { name: "å»¢åœŸç”Ÿå­˜ (æ¸›æ³•)", type: "sub", fast: [4, 3], slow: [8, 7] },
        { name: "å½ˆè—¥è£œçµ¦ (ä¹˜æ³•)", type: "multi99", fast: [3, 3], slow: [5, 7] },
        { name: "åŸå¸‚çªæ“Š (2x1)", type: "multi2x1", fast: [6, 3], slow: [14, 7] },
        { name: "ç«åŠ›è¦†è“‹ (2x2)", type: "multi2x2", fast: [10, 3], slow: [20, 7] },
        { name: "ç‹™æ“Šåº§æ¨™ (æ•´é™¤)", type: "divExact", fast: [10, 3], slow: [16, 7] },
        { name: "ç¢ç”²æŒ‡ä»¤ (é¤˜æ•¸I)", type: "divRem1", fast: [12, 3], slow: [26, 7] },
        { name: "æ ¸å¿ƒè§£æ (é¤˜æ•¸II)", type: "divRem2", fast: [16, 3], slow: [40, 6] },
        { name: "ä¹é‡å¤©é–€ (å…«é …é•·å¼)", type: "mix_9", fast: [35, 3], slow: [70, 6] },
        { name: "è«¸ç¥é»ƒæ˜ (åé …ç¥å¼)", type: "mix_10", fast: [45, 3], slow: [90, 6] }
    ];

    const heroes = ["æ‘èŠå¹³æ°‘", "æ–°å…µæˆ°å£«", "åµæŸ¥å°éšŠ", "é‡è£è¡›å…µ", "ç™¾äººéšŠé•·", "ç‹å®®ä¾è¡›", "æ¦®è€€é¨å£«", "å·¨é¾å°‡è»", "ä¸æœ½è‹±é›„", "å‚³èªªåŠè–", "æ•¸å­¸æˆ°ç¥"];
    
    // æ¯å€‹ç¨±è™Ÿå¢åŠ ç‚º 3 ç¨®éš¨æ©Ÿæ•…äº‹ (å…± 60 å€‹)
    const stories = {
        true: [
            /* 0. æ‘èŠå¹³æ°‘ */
            ["å¤•é™½é¤˜æš‰ç‘åœ¨çŸ³ç£šè·¯ä¸Šï¼Œã€æ‘èŠå¹³æ°‘ã€‘{name} å‰›å›åˆ°å¯§éœçš„å®¶é„‰ï¼Œå°±çœ‹åˆ°é›œè²¨åº—è€é—†å°è‘—æ«ƒæª¯ä¸Šå¹¾ç™¾é¡†æ··äº‚çš„é›è›‹åº«å­˜æ€¥å¾—æ»¿é ­å¤§æ±—ï¼Œç®—ç›¤æ’¥å¾—åŠˆå•ªéŸ¿ä¹Ÿå°ä¸ä¸Šå¸³ã€‚{name} è¦‹ç‹€å¾®å¾®ä¸€ç¬‘ï¼Œåƒ…æ†‘è‚‰çœ¼éš¨æ„æƒéé‚£å †ç–Šå¦‚å±±çš„è›‹ç±ƒï¼Œä¾¿åœ¨å¹¾ç§’å…§ç²¾ç¢ºå ±å‡ºäº†ç¸½ç”¢é‡ã€‚è€é—†åŠä¿¡åŠç–‘åœ°é‡æ–°æ¸…é»ï¼Œçµæœç«Ÿç„¶åˆ†æ¯«ä¸å·®ï¼ä»–æ¿€å‹•åœ°å¾æ«ƒæª¯å¾ŒæŠ±å‡ºä¸€é¡†å‚³èªªä¸­ç¢©å¤§ç„¡æœ‹ã€é–ƒè€€å…‰æ¾¤çš„ã€Œæ­å§†é¾é›è›‹ã€é€çµ¦{name} ç•¶è¬ç¦®ã€‚ç•¶æ™šï¼Œå…¨æ‘äººç‚º{name} èˆ‰è¾¦äº†ç››å¤§çš„æ­¡å‘¼æ´¾å°ï¼Œæ•´å¤œæ…¶ç¥æ‘è£¡å‡ºäº†ä¸€ä½å¤©æ‰ï¼",
            "éš”å£çš„ç‹å¥¶å¥¶æ­£ç‚ºäº†ç¹”çµ¦å­«å­çš„æ¯›è¡£é•·åº¦ç™¼æ„ï¼Œçœ‹è‘—æ‰‹è£¡çš„æ¯›ç·šä¸€è‡‰èŒ«ç„¶ã€‚é€™æ™‚ã€æ‘èŠå¹³æ°‘ã€‘{name} èµ°ä¸Šå‰å»ï¼Œæ‹¿èµ·æ¯›ç·šéš¨æ‰‹ä¸€é‡ï¼Œè…¦æµ·ä¸­ç¬é–“æ¼”ç®—å‡ºæœ€å®Œç¾çš„é‡æ³•èˆ‡æ¯”ä¾‹ã€‚å¥¶å¥¶ç…§è‘—{name} çš„å»ºè­°æ–½ä½œï¼Œæœç„¶ç¹”å‡ºäº†å®Œç¾çš„æˆå“ï¼å¥¹é–‹å¿ƒåœ°é€{name} ä¸€æ¢é–ƒè€€è‘—ä¸ƒå½©å…‰èŠ’ã€è³ªæ„Ÿéå‡¡çš„åœå·¾ï¼Œä¸¦è¡åˆ°æ‘å£å¤§è²å»£æ’­ï¼š{name} æ˜¯å…¨ç‹åœ‹æœ€è°æ˜ã€æœ€è²¼å¿ƒçš„å¥½å­©å­ï¼é€™ä»½è®šç¾è®“å…¨æ‘äººéƒ½è½è¦‹äº†ï¼Œå°±é€£è·¯é‚Šç¶“éçš„å°è²“éƒ½åœä¸‹è…³æ­¥ï¼Œå°{name} æŠ•ä»¥å……æ»¿å´‡æ‹œçš„ç¥æƒ…ã€‚",
            "æ‘é•·åœ¨çµ±è¨ˆè¾²ç”°ç”¢é‡æ™‚æ€¥å¾—æ»¿é ­å¤§æ±—ï¼Œå †ç©å¦‚å±±çš„æ•¸æ“šè®“ä»–å®Œå…¨ç†ä¸å‡ºé ­ç·’ã€‚èº«ç‚ºã€æ‘èŠå¹³æ°‘ã€‘çš„ {name} æ¹Šéå»åªçœ‹äº†ä¸€çœ¼ï¼Œå°±å¾æ³›é»ƒçš„å¸³æœ¬ä¸­æŠ“å‡ºäº†ä¸€å€‹è—äº†åå¹´ä¹‹ä¹…çš„ä½ç´šè¨ˆç®—éŒ¯èª¤ï¼å› ç‚ºé€™é …é—œéµä¿®æ­£ï¼Œå…¨æ‘çš„ç¨…é‡‘è² æ“”ç¬é–“æ¸›åŠï¼Œç©å£“å·²ä¹…çš„å£“åŠ›ä¸€æƒè€Œç©ºã€‚æ‘æ°‘å€‘èˆˆå¥®åˆ°äº†æ¥µé»ï¼Œçœ¾äººé½Šå¿ƒåˆåŠ›å°‡ {name} é«˜é«˜èˆ‰èµ·ï¼Œç¹è‘—æ‘èŠå»£å ´è¶³è¶³è½‰äº†ä¸‰åœˆï¼Œæ­¡å‘¼è²éŸ¿å¾¹é›²éœ„ï¼Œæ¯å€‹äººéƒ½æŠŠ{name} ç•¶æˆæ‹¯æ•‘å…¨æ‘çš„è‹±é›„ï¼"],
            /* 1. æ–°å…µæˆ°å£« */
            ["åœ¨æ°£æ°›è‚…æ®ºçš„è»ç‡Ÿè¨“ç·´å ´ä¸Šï¼Œç®¡ç†å®˜çªç„¶ç™¼ç¾åº«å­˜çš„å¯¶åŠå°‘äº†ä¸€æŠŠï¼Œé€™å°ã€æ–°å…µæˆ°å£«ã€‘å€‘ä¾†èªªæ˜¯æ¥µå…¶åš´é‡çš„å¤±è·ã€‚æ­£ç•¶å¤§å®¶é¢é¢ç›¸è¦·ã€æº–å‚™é›†é«”å—ç½°æ™‚ï¼Œ{name} ä¸»å‹•ç«™äº†å‡ºä¾†ã€‚{name} å†·éœåœ°ç¿»é–±é ˜ç”¨ç´€éŒ„ï¼Œå°ç…§è‘—æ¶ä¸Šçš„ç©ºä½è¿…é€Ÿå¿ƒç®—ï¼Œä¸åˆ°ä¸‰åˆ†é˜å°±æŒ‡å‡ºé€™åªæ˜¯ç™»è¨˜æ™‚çš„é‡ç–ŠéŒ¯èª¤ï¼Œå¯¶åŠå…¶å¯¦å¥½ç«¯ç«¯åœ°é–åœ¨ä¿é¤Šå®¤è£¡ã€‚å› ç‚º{name} çš„ç´°å¿ƒï¼Œå…¨å“¡å…é™¤äº†é­”é¬¼èˆ¬çš„é«”èƒ½è™•ç½°ï¼Œæˆ°å‹å€‘ç´›ç´›å°{name} è±èµ·å¤§æ‹‡æŒ‡ï¼Œæ„Ÿå˜†æœ‰{name} çœŸå¥½ï¼",
             "ä»Šæ—¥çš„å°„ç®­è¨“ç·´é¢¨å‹¢å¼·å‹ï¼Œè¨±å¤šæ–°å…µéƒ½ç„¡æ³•æŒæ¡æº–é ­ï¼Œå”¯ç¨ã€æ–°å…µæˆ°å£«ã€‘{name} è¡¨ç¾å¾—æ°£å®šç¥é–’ã€‚{name} ç«™åœ¨é¶ä½å‰ï¼Œå¤§è…¦å¿«é€Ÿè¨ˆç®—è‘—é¢¨é€Ÿã€æ¿•åº¦èˆ‡æ‹‹ç‰©ç·šçš„åç§»ï¼Œæ¯ä¸€ä¸‹æ”¾ç®­éƒ½åƒæ˜¯é æ¸¬å¥½äº†è½é»ï¼Œç®­ç®­æ­£ä¸­ç´…å¿ƒï¼Œç™¼ç™¼é©šè±”å…¨å ´ã€‚ä¸€æ—çš„æ•™å®˜çœ‹è‘—é¶ç´™ä¸Šçš„å®Œç¾æˆç¸¾ï¼Œé©šè¨å¾—èªªä¸å‡ºè©±ä¾†ï¼Œæœ€å¾Œæ±ºå®šç ´ä¾‹è®“{name} ææ—©çµæŸé€™å ´æ¯ç‡¥çš„è¨“ç·´ï¼Œå»æ¶¼çˆ½çš„æ¨¹è”­ä¸‹ä¼‘æ¯ï¼Œäº«å—å…¶ä»–æˆ°å‹ç¾¨æ…•çš„ç›®å…‰ã€‚",
             "åˆ°äº†åˆ†ç™¼ä¹¾ç³§çš„æ™‚é–“ï¼ŒåŸæœ¬æ··äº‚çš„æ’éšŠç¾å ´è®“æ–°å…µå€‘æ€¨è²è¼‰é“ï¼Œå¤§å®¶éƒ½æ“”å¿ƒé ˜åˆ°çš„ç‰©è³‡ä¸å‡ã€‚æ­¤æ™‚ï¼Œã€æ–°å…µæˆ°å£«ã€‘{name} æ¥æ‰‹äº†é€™é …ä»»å‹™ã€‚{name} å±•ç¾å‡ºé©šäººçš„å¹³è¡¡æ„Ÿèˆ‡åˆ¤æ–·åŠ›ï¼Œç²¾æº–ç¢ºä¿æ¯ä¸€ä½å£«å…µé ˜åˆ°çš„éºµåŒ…é‡é‡éƒ½åˆ†æ¯«ä¸å·®ï¼Œç”šè‡³é€£åˆ†é…é€Ÿåº¦éƒ½å¿«å¾—é©šäººã€‚é€™ä»½çµ•å°çš„å…¬æ­£èˆ‡ä¿è½çš„è™•äº‹é¢¨æ ¼ï¼Œè®“æ‰€æœ‰äººæ‰“å¾å¿ƒåº•æœæ°£ï¼Œå¤§å®¶ç•¶å ´ä¸€è‡´æ¨èˆ‰ {name} æ“”ä»»ç­é•·ï¼Œå¸¶é ˜å¤§å®¶é¢å°æœªä¾†çš„æŒ‘æˆ°ï¼"],
            /* 2. åµæŸ¥å°éšŠ */
            ["åœ¨å……æ»¿å±æ©Ÿçš„é‚Šå¢ƒæ£®æ—ä¸­ï¼Œã€åµæŸ¥å°éšŠã€‘{name} æ‚„ç„¡è²æ¯åœ°ä¼åœ¨æ¯è‘‰å †ä¸‹ï¼Œé›™çœ¼ç·Šç›¯è‘—é è™•çš„æ•µæ–¹ç‡Ÿåœ°ã€‚{name} ä¸¦æœªæ€¥è‘—æ’¤é€€ï¼Œè€Œæ˜¯é€éç‡Ÿç«çš„æ˜æ»…ã€å¸³ç¯·çš„é™°å½±ç¯„åœä»¥åŠé‹ç³§è»Šçš„å£“ç—•æ·±æ·ºï¼Œåœ¨è…¦ä¸­å¿«é€Ÿæ¨ç®—å‡ºæ•µè»çš„ç²¾ç¢ºè¦æ¨¡ã€‚é€™ä»½ç¥é€Ÿä¸”ç²¾æº–çš„æƒ…å ±ï¼Œè®“å·±æ–¹éƒ¨éšŠåœ¨å‡ºç™¼å‰å¤•æˆåŠŸé¿é–‹äº†æ­»è§’åŸ‹ä¼ï¼Œè½‰è€Œç™¼å‹•å¥‡è¥²ã€‚äº‹å¾Œï¼Œå°éšŠéšŠé•·ç•¶çœ¾å¤§åŠ›æ‹è‘— {name} çš„è‚©è†€ï¼Œæ¿€å‹•åœ°ç¨±è®š {name} æ˜¯å°éšŠä¸å¯æˆ–ç¼ºçš„ã€ŒåµæŸ¥ä¹‹çœ¼ã€ï¼",
             "ä¸€å ´çªå¦‚å…¶ä¾†çš„å¤§éœ§ç± ç½©äº†åŸå§‹æ£®æ—ï¼Œèƒ½è¦‹åº¦ä¸åˆ°ä¸‰å…¬å°ºï¼Œå—å›°çš„å°éšŠæˆå“¡å€‘é€æ¼¸é™·å…¥ææ…Œèˆ‡è¿·å¤±æ–¹å‘çš„ç„¦æ…®ä¸­ã€‚æ­¤æ™‚ï¼Œã€åµæŸ¥å°éšŠã€‘{name} å†·éœåœ°æ¥éæŒ‡æ®æ¬Šï¼Œé–‰ä¸Šé›™çœ¼ï¼Œå–®æ†‘è¨˜æ†¶ä¸­çš„åœ°å½¢æ•¸æ“šèˆ‡è…³æ­¥é‚å‡ºçš„é »ç‡ï¼Œç²¾ç¢ºè¨ˆç®—å‡ºæ¯ä¸€é“æ­¥ä¼èˆ‡æ–¹ä½çš„åå·®ã€‚åœ¨ {name} æ²‰ç©©çš„å¸¶è·¯ä¸‹ï¼Œå°éšŠç«Ÿå¥‡è¹Ÿèˆ¬åœ°æ¯«é«®ç„¡å‚·èµ°å‡ºäº†è‡´å‘½è¿·éœ§ã€‚çœ‹è¦‹å‡ºå£çš„é‚£ä¸€åˆ»ï¼Œæ­»è£¡é€ƒç”Ÿçš„éšŠå‹å€‘æ„Ÿæ¿€å¾—å·®é»æµä¸‹çœ¼æ·šï¼Œç·Šç·Šæ“æŠ±è‘—æ•‘å‘½æ©äºº {name}ã€‚",
             "åœ¨æ··äº‚çš„æˆ°å ´é‚Šç·£ï¼Œã€åµæŸ¥å°éšŠã€‘{name} æˆªç²äº†ä¸€å°æ•µæ–¹é«˜åº¦æ©Ÿå¯†çš„æ€¥ä»¶ã€‚æ­£ç•¶å…¶ä»–åŒè¢é‚„åœ¨å°è‘—æ»¿ç´™äº‚ç¢¼ç™¼æ„æ™‚ï¼Œ{name} æ¥éå¯†ä¿¡ï¼Œå¤§è…¦å¦‚åŒä¸€å°é«˜é€Ÿé‹è½‰çš„é½’è¼ªï¼Œä¸åˆ°ä¸‰ç§’å°±æ´å¯Ÿäº†èƒŒå¾Œçš„è¦å¾‹ï¼Œç¬é–“è§£é–‹äº†è¤‡é›œçš„æ•¸å­—åŠ å¯†ã€‚é€™ä»½é—œéµå…§å®¹æ­éœ²äº†æ•µè»çš„è£œçµ¦ç·šï¼Œè®“å·±æ–¹æˆåŠŸæˆªæ–·äº†å°æ–¹çš„å¾Œå‹¤æ”¯æ´ã€‚é€™å ´æ±ºå®šæ€§çš„å‹åˆ©ï¼Œå…¨æ­¸åŠŸæ–¼ {name} é‚£ç•°æ–¼å¸¸äººçš„é‚è¼¯å¤©è³¦ï¼Œè®“æ•µäººå¾¹åº•é™·å…¥å­¤ç«‹ç„¡æ´çš„å›°å¢ƒï¼"],
            /* 3. é‡è£è¡›å…µ */
            ["åœ¨æ°£æ°›ç·Šå¼µçš„åŸç‰†å®ˆå‚™å€åŸŸï¼Œæ²‰é‡çš„å·¨å‹å¼©ç‚®éœ€è¦é‡æ–°ä½ˆç½²ã€‚ç”±æ–¼åœ°å½¢å—åŠ›ä¸å‡ï¼Œè¡›å…µå€‘æ­£ç‚ºäº†å¦‚ä½•åˆ†é…é…é‡è€Œè‹¦æƒ±ï¼Œæ·±æ€•å°„æ“Šæ™‚çš„å¾Œåº§åŠ›æœƒå°è‡´åŸåŸºå´©å¡Œã€‚é€™æ™‚ï¼Œã€é‡è£è¡›å…µã€‘{name} ç«™äº†å‡ºä¾†ï¼Œç’°è¦–äº†ä¸€åœˆå¼©ç‚®çš„åº•åº§æ§‹é€ ï¼Œè¿…é€Ÿå¿ƒç®—å‡ºæœ€å®Œç¾çš„é‡é‡å¹³è¡¡åƒæ•¸ã€‚ç¶“é {name} çš„èª¿æ•´ï¼Œæ•¸å°å¼©ç‚®å®‰ç½®å¾—ç©©å¦‚æ³°å±±ï¼Œå³ä¾¿å…¨åŠ›é½Šå°„ä¹Ÿæ¯«ä¸å‹•æ–ã€‚çœ‹åˆ°å¦‚æ­¤å …å›ºçš„é˜²ç¦¦ï¼Œå¤§å®¶æ‡¸è‘—çš„å¿ƒçµ‚æ–¼æ”¾ä¸‹ï¼Œç´›ç´›æ„Ÿå˜†ä»Šæ™šçµ‚æ–¼èƒ½å®‰å¿ƒç¡å€‹å¥½è¦ºäº†ï¼",
             "åŸç‰†åœ¨å…ˆå‰çš„æˆ°é¬¥ä¸­å—æåš´é‡ï¼Œç¶­ä¿®å·¥ç¨‹æ­£ç·Šé‘¼å¯†é¼“åœ°é€²è¡Œï¼Œä½†ç‰©è³‡èª¿åº¦å»å› ç‚ºæ•¸æ“šæ¨¡ç³Šè€Œé™·å…¥æ··äº‚ã€‚æ­£ç•¶å·¥ç¨‹å¸«å€‘ç‚ºäº†è¨ˆç®—ä¿®è£œç¼ºå£æ‰€éœ€çš„ææ–™è€Œçˆ­è«–ä¸ä¼‘æ™‚ï¼Œã€é‡è£è¡›å…µã€‘{name} èµ°åˆ°åŸç‰†è£‚ç¸«æ—ï¼Œåƒ…åƒ…æ†‘è—‰ç›®æ¸¬èˆ‡å¿ƒç®—ï¼Œå°±å ±å‡ºäº†æ‰€éœ€çš„ç²¾ç¢ºçŸ³ç£šæ•¸é‡ã€‚ç•¶æœ€å¾Œä¸€å¡ŠçŸ³ç£šåš´çµ²åˆç¸«åœ°å¡«å…¥ç¼ºå£æ™‚ï¼Œç¾å ´çœ¾äººé©šè¨åœ°ç™¼ç¾ä¸€å¡Šä¸å¤šä¹Ÿä¸€å¡Šä¸å°‘ã€‚é€™ä»½ç¥ä¹å…¶æŠ€çš„ç²¾æº–åº¦ï¼Œè®“é¦–å¸­å·¥ç¨‹å¸«ç•¶çœ¾å®£å¸ƒ {name} å°±æ˜¯é˜²ç¦¦å·¥äº‹ç•Œçš„å¤©æ‰ï¼",
             "é¢å°åœ°å¹³ç·šä¸Šé»‘å£“å£“è¥²ä¾†çš„æ•µè»ï¼Œæ•¸å°å·¨å‹æŠ•çŸ³è»Šç™¼å‡ºäº†ä½æ²‰çš„è½Ÿé³´ï¼Œå·¨å¤§çš„çŸ³å¡Šå‘¼å˜¯è‘—å¾å¤©è€Œé™ã€‚åœ¨åƒéˆä¸€é«®ä¹‹éš›ï¼Œã€é‡è£è¡›å…µã€‘{name} å†·éœåœ°è§€å¯ŸçŸ³å¡Šçš„é£›è¡Œå¼§ç·šï¼Œå¤§è…¦é£›é€Ÿè¨ˆç®—è‘—æ’æ“ŠåŠ›é“èˆ‡åè½‰å‘é‡ï¼Œéš¨å³å¤§è²æŒ‡æ®åŒè¢èª¿æ•´ç›¾ç‰Œã€‚{name} å¸¶é ˜å¤§å®¶æ“ºå‡ºäº†æœ€ç§‘å­¸çš„ç›¾ç‰†è§’åº¦ï¼Œè®“åŸæœ¬è¶³ä»¥è‡´å‘½çš„å·¨çŸ³åœ¨æ’æ“Šç¬é–“ç«Ÿç„¶å®Œç¾çš„å‘å´é‚Šæ»‘é–‹ï¼çœ‹è‘—æ¯«é«®ç„¡å‚·çš„é˜²ç·šï¼Œæ•µè»é™·å…¥äº†çµ•æœ›ï¼Œè€Œ {name} çš„è‹±å§¿ä¹Ÿæˆäº†æˆ°å‹å¿ƒä¸­æœ€å¼·å¤§çš„è­·ç›¾ã€‚"],
            /* 4. ç™¾äººéšŠé•· */
            ["åœ¨æ¼«é•·ä¸”è‰±è¾›çš„é å¾é€”ä¸­ï¼Œå¾Œå‹¤è£œçµ¦ä¸€ç›´æ˜¯ç¶­æŒå£«æ°£çš„æœ€å¤§é›£é¡Œã€‚èº«ç‚ºã€ç™¾äººéšŠé•·ã€‘çš„ {name} å±•ç¾å‡ºéå‡¡çš„çµ±å¸¥æ‰èƒ½ï¼Œé¢å°è¤‡é›œçš„ç‰©è³‡æ¸…å–®ï¼Œ{name} ç¸½èƒ½è¼•è€Œæ˜“èˆ‰åœ°åœ¨è…¦ä¸­å®Œæˆç¹ç‘£çš„å£ç³§åˆ†é…ã€‚ä¸åƒ…ç¢ºä¿æ¯ä½æˆ°å£«éƒ½èƒ½ç²å¾—å……è¶³çš„èƒ½é‡ï¼Œæ›´é ç•™äº†æ‡‰å°çªç™¼ç‹€æ³çš„å„²å‚™ã€‚çœ‹è‘— {name} æ¢ç†åˆ†æ˜åœ°è™•ç†ç¹é›œäº‹å‹™ï¼ŒåŸæœ¬ç–²æ†Šçš„å£«å…µå€‘çœ¼ä¸­æ¼¸æ¼¸å……æ»¿äº†å´‡æ‹œèˆ‡æ•¬æ„ï¼Œæ·±ä¿¡è·Ÿéš¨è‘— {name} å¿…èƒ½èµ°å‘å‹åˆ©ï¼",
             "é å¾è»ä¸å¹¸åœ¨é…·ç†±ä¹¾æ—±çš„è’æ¼ ä¸­é‡ä¸Šäº†æ¥µç«¯æ°£å€™ï¼Œæ°´æºå³å°‡æ¯ç«­çš„ææ‡¼ç± ç½©è‘—å…¨éšŠã€‚åœ¨çµ•æœ›ä¹‹éš›ï¼Œã€ç™¾äººéšŠé•·ã€‘ {name} ä¿æŒè‘—é©šäººçš„å†·éœï¼Œç²¾ç¢ºè¨ˆç®—å‡ºæ¯ä¸€æ»´é£²ç”¨æ°´çš„é…çµ¦é‡èˆ‡å£«å…µé«”åŠ›æ¶ˆè€—çš„è‡¨ç•Œé»ã€‚æ†‘è—‰é€™ä»½æ¥µè‡´çš„ç²¾ç®—ï¼Œå°éšŠåœ¨æœ€å¾Œä¸€æ»´æ°´è€—ç›¡å‰ï¼Œå¥‡è¹Ÿèˆ¬åœ°æ’åˆ°äº†ç¶ æ´²æŠµé”ã€‚çœ‹è‘—æ¸…æ¾ˆçš„æ°´æºï¼Œé‡ç²æ–°ç”Ÿçš„å£«å…µå€‘æ¿€å‹•è¬åˆ†ï¼Œåœ¨è’åŸä¸Šé½Šè²é«˜å–Šè‘— {name} çš„åå­—ï¼Œè²éŸ³ä¹…ä¹…ä¸æ•£ï¼",
             "é¢å°æ•¸å€æ–¼å·±çš„å¼·æ•µå¤¾æ“Šï¼Œã€ç™¾äººéšŠé•·ã€‘ {name} ä¸¦æœªé€€ç¸®ï¼Œè€Œæ˜¯è¿…é€ŸæŒ‡æ®æˆ°å£«å€‘ç§»å‹•ï¼Œä½ˆä¸‹äº†ç”± {name} è¦ªè‡ªè¨­è¨ˆã€çµæ§‹æ¥µå…¶è¤‡é›œçš„ã€Œåœ“å½¢é˜²ç¦¦é™£æ³•ã€ã€‚é€™å€‹é™£æ³•åˆ©ç”¨äº†ç²¾å¯†çš„åŠ›å­¸äº¤éŒ¯ï¼Œè®“ç™¾äººå°éšŠåœ¨é˜²ç¦¦æ™‚æ¯«ç„¡æ­»è§’ï¼Œé€²æ”»æ™‚å‰‡å¦‚é½’è¼ªèˆ¬ç’°ç’°ç›¸æ‰£ï¼Œç¡¬ç”Ÿç”Ÿç™¼æ®å‡ºäº†åƒäººéƒ¨éšŠæ‰æœ‰çš„å¼·å¤§æˆ°é¬¥åŠ›ã€‚é€™å ´ä»¥å°‘å‹å¤šçš„å‚³å¥‡æˆ°å½¹éœ‡æ’¼äº†æ•´å€‹ç‹åœ‹ï¼Œæ‰€æœ‰å°‡é ˜éƒ½çˆ­ç›¸ç ”ç©¶ {name} é‚£å¤©æ‰èˆ¬çš„æˆ°ç•¥è—è¡“ï¼"],
            /* 5. ç‹å®®ä¾è¡› */
            ["åœ¨ç‹å®®å¤§æ®¿çš„ç¿»ä¿®å·¥ç¨‹ä¸­ï¼Œæœ€æ˜‚è²´çš„å¤§ç†çŸ³åœ°ç£šå› ç‚ºåˆ‡å‰²è§’åº¦æ¥µå…¶è¤‡é›œï¼Œé€£è³‡æ·±å·¥åŒ éƒ½æ„Ÿåˆ°ç„¡å¾ä¸‹æ‰‹ã€‚èº«ç‚ºã€ç‹å®®ä¾è¡›ã€‘çš„ {name} è¦‹ç‹€ï¼Œå¸ä¸‹ç›”ç”²ä¸Šå‰å¹«å¿™ã€‚{name} åƒ…æ†‘é›™çœ¼æ¸¬é‡å¤§æ®¿çš„å¼§åº¦ï¼Œè…¦ä¸­è¿…é€Ÿè·‘éç²¾å¯†çš„å¹¾ä½•é‹ç®—ï¼Œæ¥è‘—è¦ªè‡ªæŒ‡æ®æ¯ä¸€å¡ŠçŸ³ç£šçš„è½é»ã€‚ç•¶æœ€å¾Œä¸€å¡Šåœ°ç£šè½ä¸‹ï¼Œæ•´ç‰‡åœ°æ¿å‘ˆç¾å‡ºå®Œç¾å¥‘åˆã€æ¯«ç„¡ç¸«éš™çš„è¦–è¦ºéœ‡æ’¼ã€‚è·¯éçš„åœ‹ç‹è¢«é€™æ¥µè‡´çš„å·¥è—æ·±æ·±æ‰“å‹•ï¼Œç«Ÿç ´å¤©è’åœ°æ‘˜ä¸‹ç‹å† ï¼Œå‘ {name} è¡¨é”æœ€é«˜çš„è‡´æ„èˆ‡æ•¬ä½©ï¼",
             "åœ¨è¿æ¥å¤–åœ‹ä½¿ç¯€çš„ç››å¤§åœ‹å®´ä¸Šï¼Œä¸€å…±è¦ä¸Š 108 é“ç¹ç‘£çš„ä½³é¤šï¼Œç¯€å¥ç¨æœ‰å·®éŒ¯ä¾¿æœƒå¤±ç¦®ã€‚æ“”ä»»ç¸½å”èª¿çš„ã€ç‹å®®ä¾è¡›ã€‘{name}ï¼Œå±•ç¾äº†é©šäººçš„æ™‚é–“ç®¡ç†å¤©è³¦ã€‚{name} ç²¾æº–æŒæ§æ¯ä¸€é“èœå¾å»šæˆ¿åˆ°é¤æ¡Œçš„ç§’æ•¸ï¼Œç¢ºä¿æ¯ä¸€ç›¤ç«¯åˆ°ä½¿ç¯€é¢å‰æ™‚éƒ½è™•æ–¼æœ€å®Œç¾çš„æº«åº¦ã€‚é€™å ´è¡Œé›²æµæ°´ã€å¦‚è—è¡“èˆ¬çš„ä¸Šèœç§€è®“å„åœ‹ä½¿ç¯€è®šå˜†ä¸å·²ï¼Œç·Šç¹ƒçš„å¤–äº¤æ°›åœéš¨ä¹‹åŒ–è§£ï¼Œä½¿ç¯€å€‘åœ¨æ­¡æ„‰ä¸­ç•¶å ´ç°½ä¸‹äº†å¡µå°å·²ä¹…çš„å’Œå¹³å”è­°ï¼Œè€Œé€™èƒŒå¾Œçš„åŠŸè‡£æ­£æ˜¯ {name}ï¼",
             "ç‹å®®å¯¶åº«çš„å¹´åº¦ç›¤é»é™·å…¥åƒµå±€ï¼Œæ•¸ä»¥è¬è¨ˆçš„é‡‘å¹£èˆ‡ç å¯¶æ··é›œåœ¨ä¸€èµ·ï¼Œæ•¸æ“šå®Œå…¨å°ä¸ä¸Šã€‚æ­£ç•¶çœ¾äººç„¦é ­çˆ›é¡æ™‚ï¼Œã€ç‹å®®ä¾è¡›ã€‘{name} èµ°é€²é‡‘å…‰é–ƒé–ƒçš„åº«æˆ¿ï¼Œåœ¨é€™ä¸€ç‰‡æ··äº‚ä¸­å¿«é€Ÿæƒè¦–ï¼Œå¤§è…¦å¦‚åŒæ­¥æ•¸å™¨èˆ¬ç¬é–“ç®—å‡ºäº†é‡‘å¹£çš„ç²¾ç¢ºç¸½æ•¸ã€‚{name} éš¨å³æŒ‡å‡ºå¸³æœ¬ä¸­åˆ»æ„éš±è—çš„ç´°å¾®å·®éŒ¯ï¼Œç•¶å ´æªå‡ºäº†è©¦åœ–ä¸­é£½ç§å›Šçš„è²ªæ±¡å°å®˜ã€‚åœ‹ç‹å° {name} çš„æ©Ÿæ™ºèˆ‡æ¸…å»‰å¤§ç‚ºè®šè³ï¼Œæ±ºå®šåœ¨çœ¾è‡£è¦‹è­‰ä¸‹ï¼Œè¦ªè‡ªç‚º {name} ä½©æˆ´ä¸Šè±¡å¾µæ¦®è­½çš„ç‰¹ç´šå‹³ç« ï¼"],
            /* 6. æ¦®è€€é¨å£« */
            ["åœ¨ä¸€å ´æ¼«é•·çš„é¥‘è’å¾Œï¼Œç³§é£Ÿçš„å…¬å¹³åˆ†é…æˆäº†ç¶­æŒæ‘èŠç©©å®šçš„é—œéµã€‚èº«ç‚ºã€æ¦®è€€é¨å£«ã€‘çš„ {name} ç«™åœ¨é ˜åœ°çš„å»£å ´ä¸­å¿ƒï¼Œè¦ªè‡ªè™•ç†å †ç©å¦‚å±±çš„éºµåŒ…èˆ‡è£œçµ¦å“ã€‚{name} ä¸¦éç²—é­¯åœ°åˆ‡å‰²ï¼Œè€Œæ˜¯ç²¾ç¢ºåœ°è¨ˆç®—äº†æ¯ä¸€æˆ¶å®¶åº­çš„äººæ•¸èˆ‡éœ€æ±‚é‡ï¼Œç¢ºä¿æ¯ä¸€ä»½éºµåŒ…çš„å…‹æ•¸éƒ½åˆ†æ¯«ä¸å·®ï¼Œå±•ç¾å‡ºä»¤äººå¿ƒæœå£æœçš„å…¬æ­£ã€‚å° {name} è€Œè¨€ï¼Œæ•¸å­—ä¸å†åªæ˜¯å†°å†·çš„ç¬¦è™Ÿï¼Œè€Œæ˜¯å®ˆè­·æ­£ç¾©æœ€å …å¯¦çš„ç›¾ç‰Œï¼Œè®“æ‰€æœ‰æ‘æ°‘åœ¨é ˜å–ç³§é£Ÿæ™‚ï¼Œéƒ½æ„Ÿå—åˆ°äº†å‰æ‰€æœªæœ‰çš„å®‰å¿ƒèˆ‡å°Šåš´ï¼",
             "åœ¨çœ¾ç›®ç½ç½çš„é¨å£«ç«¶æŠ€å ´ä¸Šï¼Œå°æ‰‹æ®èˆè‘—æ²‰é‡çš„é‡åŠç™¼å‹•çŒ›çƒˆæ”»å‹¢ï¼Œä¼åœ–ä»¥åŠ›é‡å–å‹ã€‚ç„¶è€Œï¼Œã€æ¦®è€€é¨å£«ã€‘{name} åªæ˜¯éœéœåœ°ç«™åœ¨åŸåœ°ï¼Œé›™çœ¼é–ƒçˆè‘—å†·éœçš„å…‰èŠ’ï¼Œå¤§è…¦é£›é€Ÿè¨ˆç®—è‘—å°æ–¹å‹•ä½œé–“çš„ç‰©ç†æ…£æ€§èˆ‡é«”åŠ›è¡°æ¸›çš„ç ´ç¶»ã€‚å°±åœ¨å°æ‰‹æœ€æ„æƒ³ä¸åˆ°çš„ç¬é–“ï¼Œ{name} ä»¥æ¥µå°å¹…åº¦çš„è·¨æ­¥é–ƒéè‡´å‘½ä¸€æ“Šï¼Œä¸¦åœ¨å°æ–¹åæ‡‰éä¾†å‰ï¼Œä¾¿å·²å„ªé›…åœ°å°‡é•·åŠæ”¶å›é˜ä¸­ã€‚é€™ä»½æ–™äº‹å¦‚ç¥çš„è¨ˆç®—åŠ›ï¼Œè®“å°æ–¹åœ¨é©šæ„•ä¹‹é¤˜ç¾æ„§åœ°ä½é ­èªè¼¸ï¼Œæ‰¿èª {name} çš„å¢ƒç•Œæ—©å·²é è¶…å¸¸äººï¼",
             "ç‚ºäº†æ‹¯æ•‘è¢«å›°åœ¨é‡é‡æ•µç‡Ÿæ·±è™•çš„å…¬ä¸»ï¼Œã€æ¦®è€€é¨å£«ã€‘{name} ç«™åœ¨é«˜å´—ä¸Šä¿¯ç°æ•µæ–¹çš„é˜²ç¦¦éƒ¨ç½²ã€‚{name} ä¸¦æœªç›²ç›®è¡é‹’ï¼Œè€Œæ˜¯è¿…é€Ÿæ¼”ç®—å‡ºæ•µè»å·¡é‚çš„é–“éš™èˆ‡æœ€çŸ­çš„çªåœè·¯å¾‘ï¼Œå°‡æ‰€æœ‰é¢¨éšªæ•¸æ“šé™åˆ°æœ€ä½ã€‚éš¨è‘—ä¸€è²ä»¤ä¸‹ï¼Œ{name} ç­–é¦¬å¥”é¨°ï¼Œåƒ…åƒ…ç”¨äº†ä¸€ç‚·é¦™çš„æ™‚é–“ï¼Œå°±å¦‚åŒä¸€é“é–ƒé›»èˆ¬ç²¾æº–ç©¿é€äº†æ•µç‡Ÿé˜²ç·šï¼Œå‡ºç¾åœ¨å…¬ä¸»é¢å‰ã€‚é€™å ´å¦‚åŒæ•™ç§‘æ›¸èˆ¬çš„å¥‡è¥²è¡Œå‹•ï¼Œä¸åƒ…å±•ç¾äº† {name} çš„å‹‡çŒ›ï¼Œæ›´è­‰æ˜äº†æ™ºæ…§æ‰æ˜¯è´å¾—æˆ°çˆ­çš„é—œéµåˆ©å™¨ï¼"],
            /* 7. å·¨é¾å°‡è» */
            ["ã€å·¨é¾å°‡è»ã€‘{name}é§•é¦­å·¨é¾è¨ˆç®—æ°£å£“ï¼Œç²¾æº–é™è½å¡”å°–ï¼Œå…¨åŸå·¨é¾ç‚ºä½ å’†å“®ï¼",
             "ã€å·¨é¾å°‡è»ã€‘{name}ç®—å‡ºé¾ç„°å™´å°„çš„æ‹‹ç‰©ç·šï¼Œä¸€å£æ°£ç‡’æ¯€äº†æ•µæ–¹çš„æ‰€æœ‰æ”»åŸå¡”ï¼Œå…¨è»å£«æ°£å¤§æŒ¯ï¼",
             "ã€å·¨é¾å°‡è»ã€‘{name}ç²¾ç¢ºè¨ˆç®—é¾ç¾¤çš„é£›è¡Œç¯€å¥ï¼Œå½¢æˆäº†å®Œç¾çš„é˜²ç©ºç¶²ï¼Œé€£éš»è’¼è …éƒ½é£›ä¸é€²é¦–éƒ½ï¼"],
            /* 8. ä¸æœ½è‹±é›„ */
            ["ã€ä¸æœ½è‹±é›„ã€‘{name}æ‹†è§£é‚è¼¯ä¹‹å¡”å°å°ï¼Œé‡‘å…‰å¤§ä½œéœ§éœ¾æ¶ˆå¤±ï¼Œæˆç‚ºæ­·å²æ°¸æ†è‹±é›„ï¼",
             "ã€ä¸æœ½è‹±é›„ã€‘{name}æ‰¾åˆ°äº†å‚³èªªä¸­çš„æ ¹è™Ÿç§˜å¯†ï¼Œè§£é–äº†å¤ä»£éºç•™çš„ç¥å…µåˆ©å™¨ï¼Œå…‰èŠ’ç…§äº®äº†æ•´å€‹å¤§é™¸ï¼",
             "ã€ä¸æœ½è‹±é›„ã€‘{name}çš„åå­—è¢«åˆ»åœ¨çœŸç†ä¹‹çŸ³ä¸Šï¼Œå¾Œä¸–çš„å­¸ç”Ÿéƒ½ä»¥ä½ çš„è¨ˆç®—æŠ€å·§ä½œç‚ºæ•™ç§‘æ›¸æ¨™æº–ï¼"],
            /* 9. æ•¸å­¸æˆ°ç¥ */
            ["ã€æ•¸å­¸æˆ°ç¥ã€‘è«¸ç¥é»ƒæ˜é™è‡¨ï¼Œ{name}åŠƒä¸‹æœ€çµ‚è§£ç­”é‡æ­¸æ˜Ÿè¾°è»Œé“ï¼Œå®‡å®™ç§©åºä¹‹æ ¸å¿ƒï¼",
             "ã€æ•¸å­¸æˆ°ç¥ã€‘åœ¨æ™‚ç©ºçš„è£‚ç¸«ä¸­ï¼Œ{name}ç”¨æ•¸å­¸å…¬å¼ä¿®è£œäº†ç ´ç¢çš„ä¸–ç•Œï¼Œè¬ç‰©é‡æ–°å›æ­¸æ­£å¸¸çš„é‚è¼¯ï¼",
             "ã€æ•¸å­¸æˆ°ç¥ã€‘ä½ å·²è¶…è¶Šäº†æ™‚é–“èˆ‡ç©ºé–“ï¼Œæ‰€æœ‰çš„é‹ç®—éƒ½åœ¨ä½ ä¸€å¿µä¹‹é–“å®Œæˆï¼Œç¥ç•Œç‚ºä½ çš„æ™ºæ…§é™ä¸‹èŠ±é›¨ï¼"]
        ],
        false: [
            /* 0. å‡çš„æ‘èŠå¹³æ°‘ */
            ["ã€å‡çš„æ‘èŠå¹³æ°‘ã€‘{name}ç®—éŒ¯é›è›‹ï¼Œè€é—†æ‹¿æƒå¸šè¿½ä½ ï¼Œå…¨æ‘å°ç‹—éƒ½åœ¨å˜²ç¬‘ä½ ã€Œæ±ªæ±ªï¼ã€ç¿»è­¯ï¼šé€£é›è›‹éƒ½ä¸æœƒç®—ï¼",
             "ã€å‡çš„æ‘èŠå¹³æ°‘ã€‘{name}å¹«ç‹å¥¶å¥¶ç®—æ¯›ç·šï¼Œçµæœå¤šç®—äº†ä¸‰å…¬é‡Œï¼Œå¥¶å¥¶ç¹”å‡ºçš„æ¯›è¡£æ¯”æˆ¿å­é‚„å¤§ï¼ŒæŠŠä½ è¶•äº†å‡ºå»ï¼",
             "ã€å‡çš„æ‘èŠå¹³æ°‘ã€‘{name}åœ¨é›œè²¨åº—æ‰¾é›¶æ‰¾éŒ¯äº†ï¼Œè€é—†å¨˜æŠŠä½ ç•¶æˆé¨™å­ï¼Œè²¼åœ¨æ‘é–€å£å…¬å‘Šç¤ºçœ¾ä¸‰å€‹æœˆï¼"],
            /* 1. å‡çš„æ–°å…µæˆ°å£« */
            ["åœ¨åš´è‚…çš„è»æ¢°åº«æ¸…é»æ—¥ï¼Œèº«ç‚ºã€å‡çš„æ–°å…µæˆ°å£«ã€‘çš„ {name} å°è‘—å¸³æœ¬èƒ¡äº‚æ¯”åŠƒï¼ŒçµæœæŠŠçè²´çš„å¯¶åŠæ•¸é‡ç®—å¾—ä¸€å¡Œç³Šå¡—ã€‚æ†¤æ€’çš„éšŠé•·å¤§ç™¼é›·éœ†ï¼Œå‘½ä»¤ {name} å¿…é ˆå›å®¶è¦ªè‡ªé›é€ å¯¶åŠä¾†è³ å„Ÿæå¤±ã€‚æ²’æƒ³åˆ°ï¼Œç¼ºä¹å¸¸è­˜çš„ {name} åœ¨å®¶å¿™æ´»äº†åŠå¤©ï¼Œæœ€å¾Œç«Ÿç„¶äº¤å‡ºäº†å¹¾ç™¾æ”¯å½¢ç‹€åƒåŠã€å£æ„Ÿå»ç”œè†©æ­»äººçš„å·¨å¤§ã€Œæ£’æ£’ç³–ã€ã€‚çœ‹è‘—é€™å †äº”é¡å…­è‰²çš„ç”œé»ï¼ŒéšŠé•·æ°£å¾—ç•¶å ´è¡€å£“å‡é«˜ï¼Œæ¯«ä¸ç•™æƒ…åœ°å°‡ {name} è¸¢å‡ºè»ç‡Ÿï¼Œå‹’ä»¤æ°¸é ä¸å¾—è¸å…¥ï¼",
             "åœ¨é™½å…‰æ˜åªšçš„å°„ç®­ç·´ç¿’å ´ä¸Šï¼Œã€å‡çš„æ–°å…µæˆ°å£«ã€‘{name} ç‚ºäº†å±•ç¾å¸¥æ°£çš„ä¸€é¢ï¼Œå¥½åƒå¾ˆå²å®³åœ°ç‡èµ·çœ¼è¨ˆç®—é¢¨åèˆ‡è§’åº¦ã€‚ç„¶è€Œï¼Œ{name} çš„æ•¸å­¸é‚è¼¯é¡¯ç„¶å¾¹åº•æ–·ç·šï¼Œç®­çŸ¢å°„å‡ºå¾Œç«Ÿç„¶åœ¨ç©ºä¸­åŠƒå‡ºä¸€é“è©­ç•°çš„å¼§ç·šï¼Œä¸åä¸å€šåœ°æ­£ä¸­å¾Œæ–¹è¦–å¯Ÿé•·å®˜çš„å±è‚¡ï¼å…¨å ´ç¬é–“é™·å…¥æ­»å¯‚ï¼Œéš¨å¾Œå‚³ä¾†é•·å®˜çš„é©šå¤©å’†å“®ã€‚ç¾åœ¨ï¼Œå€’éœ‰çš„ {name} æ­£å°è‘—å †ç©å¦‚å±±çš„è‡­è¥ªå­æ¬²å“­ç„¡æ·šï¼Œè¢«è™•ç½°å¿…é ˆç¨è‡ªæ´—å®Œé€™è¼©å­éƒ½æ²’è¦‹éã€è¶³ä»¥ç‡»æ­»äººçš„å…¨è»ç‡Ÿè¥ªå­ï¼",
             "åˆ°äº†åˆé–“åˆ†ç™¼ä¹¾ç³§çš„æ™‚åˆ»ï¼Œã€å‡çš„æ–°å…µæˆ°å£«ã€‘{name} é›–ç„¶èº«è² é‡ä»»ï¼Œå¿ƒè£¡å»æ‰“è‘—æ­ªä¸»æ„ã€‚{name} è¶è‘—æ··äº‚å·å·å¤šå¡äº†å…©å€‹å¤§éºµåŒ…é€²è‡ªå·±çš„æ‡·è£¡ï¼Œæ²’æƒ³åˆ°å‹•ä½œå¤ªéç¬¨æ‹™ï¼ŒåŸæœ¬å¤¾åœ¨è¢–å£è£¡è¨˜éŒ„å·æ‹¿æ•¸é‡çš„ã€Œä½œå¼Šæ¢ã€ç«Ÿç„¶éš¨ä¹‹æ»‘è½ï¼Œç›´æ¥æ‰é€²äº†æ­£åœ¨ç†¬ç…®çš„å¤§é‹æ¹¯ä¸­ï¼é€™å¼µé—œéµè­‰æ“šè¢«ç•¶å ´æ’ˆèµ·ï¼Œé¢å°éµè­‰å¦‚å±±çš„è²ªå¿ƒè¡Œå¾‘ï¼Œæ•™å®˜å†·ç¬‘è‘—æèµ·äº† {name} çš„è¡£é ˜ã€‚ç¾åœ¨ï¼Œ{name} åªèƒ½åœ¨é™°æš—æ½®æ¿•çš„ç¦é–‰å®¤è£¡ï¼Œå°è‘—å†·å†°å†°çš„ç‰†å£æ·±æ·±åçœè‡ªå·±çš„è²ªå©ªï¼"],
            /* 2. å‡çš„åµæŸ¥å°éšŠ */
            ["ã€å‡çš„åµæŸ¥å°éšŠã€‘{name}æŠŠä¸ƒå€‹æ•µäººç®—æˆä¸ƒè¬ï¼Œå…¨è»æ’¤é€€äº”åå…¬é‡Œï¼Œçµæœäººå®¶åœ¨çƒ¤åœ°ç“œï¼",
             "ã€å‡çš„åµæŸ¥å°éšŠã€‘{name}åœ¨åœ°åœ–ä¸Šç•«éŒ¯äº†æ¯”ä¾‹å°ºï¼Œå®³å¤§å®¶åœ¨æ²™æ¼ è£¡ç¹äº†ä¸‰åœˆï¼Œæ°´éƒ½å–å…‰äº†é‚„æ²’çœ‹åˆ°æ•µç‡Ÿï¼",
             "ã€å‡çš„åµæŸ¥å°éšŠã€‘{name}å‚³å›çš„æ•¸å­—æƒ…å ±å…¨æ˜¯äº‚ç¢¼ï¼ŒéšŠé•·å•ä½ åœ¨å¯«ä»€éº¼ï¼Œä½ èªªä½ åœ¨ç•«å°é›åƒç±³åœ–ã€‚",
            ],
            /* 3. å‡çš„é‡è£è¡›å…µ */
            ["ã€å‡çš„é‡è£è¡›å…µã€‘{name}ç›”ç”²è£¡å¡æ£‰èŠ±ç³–ï¼Œé‡å¿ƒä¸ç©©æ»¾é€²è­·åŸæ²³ï¼Œä¸Ÿè‡‰åˆ°å¤–å¤ªç©ºï¼",
             "ã€å‡çš„é‡è£è¡›å…µã€‘{name}ç®—éŒ¯äº†åŸé–€é—œé–‰çš„æ™‚é–“ï¼ŒæŠŠè‡ªå·±é—œåœ¨åŸé–€å¤–é¢ï¼Œè¢«é‡ç‹¼è¿½äº†ä¸€æ•´æ™šï¼",
             "ã€å‡çš„é‡è£è¡›å…µã€‘{name}æ¶è¨­å¼©ç‚®æ™‚ç®—éŒ¯è§’åº¦ï¼Œä¸€ç®­å°„ç¢äº†åœ‹ç‹æœ€æ„›çš„å™´æ°´æ± ï¼Œç¾åœ¨æ­£èƒŒå‚µä¸€è¬è¬å…©ï¼"],
            /* 4. å‡çš„ç™¾äººéšŠé•· */
            ["ã€å‡çš„ç™¾äººéšŠé•·ã€‘{name}æŠŠéºµåŒ…ç®—æˆçŸ³é ­ï¼Œå£«å…µæŠŠä½ ä¸Ÿé€²æ± å¡˜é¤µé­šï¼Œä½œå¼Šå¤±éˆå•¦ï¼",
             "ã€å‡çš„ç™¾äººéšŠé•·ã€‘æŒ‡æ®é™£å‹æ™‚{name}ç®—éŒ¯äººæ•¸ï¼Œçµæœç™¾äººéšŠä¼æ’æˆäº†ä¸€å€‹å·¨å¤§çš„ã€Œç¬¨ã€å­—ï¼Œæ•µè»ç¬‘åˆ°æ‹¿ä¸å‹•åˆ€ã€‚",
             "ã€å‡çš„ç™¾äººéšŠé•·ã€‘{name}ç™¼è»é¤‰æ™‚å¤šç®—äº†ä¸€å€‹é›¶ï¼Œç™¼çµ¦äº†æ•µè»é–“è«œï¼Œåœ‹ç‹æ°£å¾—æŠŠä½ é™è·ç‚ºé¦¬ä¼•ï¼"],
            /* 5. å‡çš„ç‹å®®ä¾è¡› */
            ["ã€å‡çš„ç‹å®®ä¾è¡›ã€‘{name}åœ°ç£šå †æˆå°å±±å·®é»åŸ‹æ‰åœ‹ç‹ï¼Œè¢«è®Šæˆå™´æ°´é›•åƒæ¯å¤©è¢«è²“æŠ“ç™¢ï¼",
             "ã€å‡çš„ç‹å®®ä¾è¡›ã€‘åœ‹å®´ä¸Š{name}ç®—éŒ¯ç›¤å­æ•¸é‡ï¼Œå°è‡´é„°åœ‹å…¬ä¸»å¾—ç”¨æ‰‹æŠ“æ¹¯å–ï¼Œå…©åœ‹å·®é»çˆ†ç™¼æˆ°çˆ­ï¼",
             "ã€å‡çš„ç‹å®®ä¾è¡›ã€‘{name}å·¡é‚æ™‚ç®—éŒ¯æ­¥æ•¸ï¼Œä¸å°å¿ƒè·Œé€²ç‹åçš„æµ´æ± ï¼Œè¢«è­·è¡›è¸¢é£›åˆ°ç‹å®®å±‹ç°·ä¸Šæ›è‘—ï¼"],
            /* 6. å‡çš„æ¦®è€€é¨å£« */
            ["ã€å‡çš„æ¦®è€€é¨å£«ã€‘{name}æŠŠé¤…ä¹¾ç®—é€²è‡ªå·±å˜´è£¡ï¼Œä½œå¼Šæ¢å™´å‡ºä¾†è²¼åœ¨é›£æ°‘è‡‰ä¸Šï¼Œå°·å°¬é‘½åœ°æ´ï¼",
             "ã€å‡çš„æ¦®è€€é¨å£«ã€‘{name}å®£ç¨±æ–¬æ®ºäº†ä¹åƒé ­é¾ï¼Œçµæœæœ‰äººç™¼ç¾ä½ é€£ä¹åŠ ä¹éƒ½ç®—ä¸å‡ºä¾†ï¼Œé¨å£«å‹³ç« è¢«æ²’æ”¶äº†ï¼",
             "ã€å‡çš„æ¦®è€€é¨å£«ã€‘æ±ºé¬¥å‰{name}æƒ³ç”¨å…¬å¼ä½œå¼Šï¼Œçµæœå…¬å¼å¯«åäº†ï¼Œç•¶å ´è¡¨æ¼”äº†ä¸€å€‹åŸåœ°æ‘”è·¤çµ¦è§€çœ¾çœ‹ã€‚"],
            /* 7. å‡çš„å·¨é¾å°‡è» */
            ["ã€å‡çš„å·¨é¾å°‡è»ã€‘{name}ä½œå¼Šæ¢æ¿•æ‰ï¼Œè¼‰è‘—ç«é¾è¡é€²å…¬å…±å»æ‰€ï¼Œæ›è‘—è¡›ç”Ÿç´™çˆ¬å‡ºä¾†ï¼",
             "ã€å‡çš„å·¨é¾å°‡è»ã€‘{name}ç®—éŒ¯å·¨é¾çš„é£Ÿé‡ï¼Œå®³å·¨é¾é¤“åˆ°æŠŠå°‡è»çš„æ–—ç¯·åƒæ‰äº†ï¼Œä½ åªå¥½ç©¿è‘—èƒŒå¿ƒæŒ‡æ®æˆ°é¬¥ã€‚",
             "ã€å‡çš„å·¨é¾å°‡è»ã€‘{name}æŒ‡æ®é¾ç¾¤é™è½ï¼Œçµæœå…¨é™è½åœ¨é„°åœ‹çš„å©šç¦®ç¾å ´ï¼ŒæŠŠæ–°éƒåš‡å¾—é€£å¤œé€ƒè·‘ï¼"],
            /* 8. å‡çš„ä¸æœ½è‹±é›„ */
            ["ã€å‡çš„ä¸æœ½è‹±é›„ã€‘{name}å¤§å–Š1+1ç­‰æ–¼ä¹åä¹å…†ï¼Œè¢«å¡”éˆè®Šæˆç©¿èŠ­è•¾èˆè£™çš„æ²³é¦¬è·³èˆï¼",
             "ã€å‡çš„ä¸æœ½è‹±é›„ã€‘{name}è©¦åœ–è§£é–‹å¤ä»£å°å°å»ç®—éŒ¯åº§æ¨™ï¼Œå•Ÿå‹•äº†è‡ªå‹•æ´—æ¾¡æ¨¡å¼ï¼Œå…¨ç‹åœ‹ä¸‹äº†ä¸€å°æ™‚çš„æ³¡æ³¡é›¨ï¼",
             "ã€å‡çš„ä¸æœ½è‹±é›„ã€‘{name}å®£ç¨±è‡ªå·±æ˜¯ä¸æœ½çš„ï¼Œçµæœç®—éŒ¯äº†æ¨“æ¢¯é«˜åº¦ï¼Œè·Œäº†ä¸€è·¤è…«å¾—åƒé¡†å¤§å—ç“œã€‚"],
            /* 9. å‡çš„æ•¸å­¸æˆ°ç¥ */
            ["ã€å‡çš„æ•¸å­¸æˆ°ç¥ã€‘{name}èªª10æ¸›10ç­‰æ–¼é›è›‹é¤…ï¼Œå…¨å ´çˆ†ç¬‘ï¼Œæˆ°ç¥è²¼ç´™æ˜¯è²·ä¸€é€ä¸€æ›ä¾†çš„ï¼",
             "ã€å‡çš„æ•¸å­¸æˆ°ç¥ã€‘è«¸ç¥é»ƒæ˜æ™‚ï¼Œ{name}æŠŠæ˜Ÿæ˜Ÿç®—æˆéš•çŸ³ï¼Œåš‡å¾—çœ¾ç¥é›†é«”è·‘è·¯ï¼Œçµæœåªæ˜¯å¹¾éš»è¢ç«èŸ²é£›éã€‚",
             "ã€å‡çš„æ•¸å­¸æˆ°ç¥ã€‘ä½ è©¦åœ–é‹ç®—å®‡å®™çš„çµ‚æ¥µæ„ç¾©ï¼Œçµæœç®—å‡ºä¾†çš„çµæœæ˜¯ä¸€ä¸²äº‚ç¢¼ã€ŒB-E-N-D-A-Nã€ï¼Œé€£ç¥éƒ½æ–é ­ã€‚"]
        ]
    };

    let curLvl = 0, targetAns = 0, targetRem = 0, streak = 0, times = [], startTime, activeInput = 'main', isCheated = false;

    function startGame() { document.getElementById('prologueOverlay').style.display = 'none'; generate(); }

    function updateRankBoard() {
        const list = document.getElementById('rankListDisplay');
        const p = isCheated ? "å‡çš„" : ""; 
        list.innerHTML = heroes.map((h, i) => `<li class="rank-item ${i === curLvl ? 'active' : ''}">${i}.${p}${h}</li>`).join('');
    }

    function generate() {
        const lvl = levels[curLvl];
        document.getElementById('lvlStatus').innerText = (isCheated ? "å‡çš„" : "") + heroes[curLvl];
        document.getElementById('levelTitle').innerText = lvl.name;
        document.getElementById('goalCond').innerText = `${lvl.fast[0]}s/${lvl.fast[1]}å‹ æˆ– ${lvl.slow[0]}s/${lvl.slow[1]}å‹`;
        document.getElementById('remainderZone').style.display = lvl.type.includes('Rem') ? 'block' : 'none';
        
        let qText = "", n1, n2;
        switch(lvl.type) {
            case "mix_9": let r9 = buildProExpr(8, 50, 250); qText = r9.q; targetAns = r9.a; break;
            case "mix_10": let r10 = buildProExpr(10, 500, 999); qText = r10.q; targetAns = r10.a; break;
            case "divExact": do { n2 = rand(3, 16); } while (n2 % 5 === 0); targetAns = rand(11, 40); n1 = n2 * targetAns; qText = `${n1} Ã· ${n2}`; break;
            case "divRem1": do { n2 = rand(6, 25); } while (n2 % 5 === 0); n1 = rand(50, 250); targetAns = Math.floor(n1/n2); targetRem = n1%n2; qText = `${n1} Ã· ${n2}`; break;
            case "divRem2": do { n2 = rand(16, 51); } while (n2 % 5 === 0); n1 = rand(300, 1500); targetAns = Math.floor(n1/n2); targetRem = n1%n2; qText = `${n1} Ã· ${n2}`; break;
            case "add": n1 = rand(10, 99); n2 = rand(10, 99); qText = `${n1}+${n2}`; targetAns = n1+n2; break;
            case "sub": n1 = rand(100, 300); n2 = rand(10, 99); qText = `${n1}-${n2}`; targetAns = n1-n2; break;
            case "multi99": n1 = rand(4, 9); n2 = rand(4, 9); qText = `${n1}Ã—${n2}`; targetAns = n1*n2; break;
            case "multi2x1": n1 = rand(21, 99); n2 = rand(3, 9); qText = `${n1}Ã—${n2}`; targetAns = n1*n2; break;
            case "multi2x2": n1 = rand(11, 49); n2 = rand(11, 39); qText = `${n1}Ã—${n2}`; targetAns = n1*n2; break;
        }
        document.getElementById('questionDisplay').innerText = qText;
        document.getElementById('ansMain').value = ""; document.getElementById('ansRem').value = "";
        activeInput = 'main'; updateInputFocus(); startTime = Date.now(); updateRankBoard();
    }

    function buildProExpr(count, min, max) {
        let ops = ['+', '-', '*'], expr = [rand(min, max)];
        for(let i=1; i<count; i++) {
            let op = ops[rand(0, 2)];
            let val = (op === '*') ? rand(2, 6) : rand(min, max);
            expr.push(op); expr.push(val);
        }
        let s = expr.join(' ');
        return { q: s.replace(/\*/g, 'Ã—'), a: eval(s) };
    }

    function pressKey(k) {
        let t = (activeInput === 'main') ? document.getElementById('ansMain') : document.getElementById('ansRem');
        if (k === 'C') t.value = ""; else t.value += k;
    }

    function check() {
        const uA = parseInt(document.getElementById('ansMain').value), uR = parseInt(document.getElementById('ansRem').value || 0);
        const dur = (Date.now() - startTime) / 1000;
        let ok = (uA === targetAns);
        if (levels[curLvl].type.includes('Rem')) ok = (ok && uR === targetRem);

        if (ok) {
            streak++; times.push(dur);
            const avg = (times.reduce((a,b)=>a+b,0)/times.length).toFixed(1);
            document.getElementById('avgTime').innerText = avg;
            showFb("é­”æ³•æ ¸å‡†", "var(--neon-green)");
            if ((streak >= levels[curLvl].fast[1] && avg <= levels[curLvl].fast[0]) || (streak >= levels[curLvl].slow[1] && avg <= levels[curLvl].slow[0])) upgrade();
        } else {
            streak = 0; times = []; document.getElementById('avgTime').innerText = "0";
            showFb("é­”åŠ›æ’æ–¥", "var(--neon-red)");
        }
        document.getElementById('streak').innerText = streak; generate();
    }

    function execCheat() { isCheated = true; updateRankBoard(); document.getElementById('ansMain').value = targetAns; document.getElementById('ansRem').value = targetRem || 0; setTimeout(() => { upgrade(); generate(); }, 200); }

    function upgrade() { if (curLvl < levels.length - 1) { curLvl++; streak = 0; times = []; alert("ç­‰ç´šæ™‰å‡ï¼"); } else { alert("æˆå°±é”æˆï¼šç§©åºä¸»å®°è€…ï¼"); location.reload(); } }

    function openRest() { document.getElementById('modal').style.display = 'flex'; }
    
    function confirmRest() {
        const nameVal = document.getElementById('playerName').value || "ä½šåå‹‡è€…";
        document.getElementById('inputArea').style.display = 'none';
        document.getElementById('restStory').style.display = 'block';
        document.getElementById('modalBtn').innerText = "é—œé–‰å­˜æª”æ—¥è¨˜";
        document.getElementById('modalBtn').onclick = () => location.reload();
        
        // éš¨æ©Ÿé¸å– 3 ç¨®æ•…äº‹ä¸­çš„ä¸€ç¨®
        const randomIdx = rand(0, 2);
        let storyTemplate = stories[(!isCheated).toString()][curLvl][randomIdx];
        let finalStr = storyTemplate.split("{name}").join(`<b>${nameVal}</b>`);
        document.getElementById('restStory').innerHTML = finalStr;
    }

    function updateInputFocus() { document.getElementById('ansMain').classList.toggle('active', activeInput === 'main'); document.getElementById('ansRem').classList.toggle('active', activeInput === 'rem'); }
    document.getElementById('ansMain').onclick = () => { activeInput = 'main'; updateInputFocus(); };
    document.getElementById('ansRem').onclick = () => { activeInput = 'rem'; updateInputFocus(); };
    function showFb(t, c) { const f = document.getElementById('feedback'); f.innerText = t; f.style.color = c; }
    function rand(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }
</script>
</body>
</html>
