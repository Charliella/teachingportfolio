<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CYBERPUNK STATUS GRID</title>
    
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        :root {
            --bg-color: #050505;
            --card-bg: #111111;
            --neon-cyan: #00f3ff;
            --neon-pink: #ff0055;
            --neon-yellow: #ffe600;
            --neon-green: #39ff14;
            --text-main: #e0e0e0;
            --grid-line: rgba(0, 243, 255, 0.1);
        }

        body {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace; /* 終端機字體 */
            background-color: var(--bg-color);
            background-image: 
                linear-gradient(var(--grid-line) 1px, transparent 1px),
                linear-gradient(90deg, var(--grid-line) 1px, transparent 1px);
            background-size: 20px 20px;
            color: var(--text-main);
            display: flex;
            justify-content: center;
            padding: 40px 20px;
            margin: 0;
            min-height: 100vh;
        }

        #root {
            width: 100%;
            max-width: 650px;
            background: var(--card-bg);
            padding: 40px;
            /* 賽博龐克邊框：切角設計 + 霓虹邊框 */
            border: 1px solid var(--neon-cyan);
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.15);
            position: relative;
            clip-path: polygon(
                0 0, 
                100% 0, 
                100% calc(100% - 20px), 
                calc(100% - 20px) 100%, 
                0 100%
            );
        }

        /* 裝飾用標籤 */
        #root::before {
            content: "SYSTEM_READY";
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 10px;
            color: var(--neon-cyan);
            opacity: 0.7;
            letter-spacing: 2px;
        }

        /* 標題輸入框 */
        .cyber-input {
            width: 100%;
            padding: 15px;
            font-family: inherit;
            font-size: 20px;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #333;
            border-left: 4px solid var(--neon-cyan);
            color: var(--neon-cyan);
            margin-bottom: 20px;
            box-sizing: border-box;
            transition: all 0.3s;
            text-transform: uppercase;
        }

        .cyber-input:focus {
            outline: none;
            background: rgba(0, 243, 255, 0.05);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.2);
            border-color: var(--neon-cyan);
        }

        .cyber-input::placeholder {
            color: #444;
        }

        /* 燈號說明區域 (Legend) */
        .legend-section {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 30px;
            padding: 15px;
            border: 1px dashed #333;
            background: rgba(255, 255, 255, 0.02);
        }

        .legend-title {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
            letter-spacing: 1px;
        }

        .legend-row {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .legend-dot {
            width: 12px;
            height: 12px;
            box-shadow: 0 0 5px currentColor;
        }

        .legend-input {
            flex: 1;
            background: transparent;
            border: none;
            border-bottom: 1px solid #333;
            color: #aaa;
            font-family: inherit;
            font-size: 14px;
            padding: 4px 0;
            transition: all 0.3s;
        }

        .legend-input:focus {
            outline: none;
            border-bottom-color: var(--neon-cyan);
            color: white;
        }

        /* 按鈕網格 */
        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
            gap: 15px;
        }

        /* 按鈕樣式 */
        .status-button {
            aspect-ratio: 1;
            border: 1px solid transparent;
            background: rgba(255, 255, 255, 0.05);
            font-family: inherit;
            font-size: 20px;
            font-weight: bold;
            color: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.1s ease;
            position: relative;
            clip-path: polygon(10% 0, 100% 0, 100% 90%, 90% 100%, 0 100%, 0 10%); /* 八角形切角 */
        }

        .status-button:hover {
            transform: scale(1.05);
            z-index: 1;
        }

        /* 狀態顏色定義 (Cyberpunk Neon) */
        
        /* 狀態 0: 紅色 (Neon Pink/Red) */
        .state-0 {
            color: var(--neon-pink);
            border-color: var(--neon-pink);
            box-shadow: inset 0 0 10px rgba(255, 0, 85, 0.2);
            text-shadow: 0 0 5px var(--neon-pink);
        }
        .state-0:hover {
            background: var(--neon-pink);
            color: #000;
            box-shadow: 0 0 15px var(--neon-pink);
        }

        /* 狀態 1: 黃色 (Neon Yellow) */
        .state-1 {
            color: var(--neon-yellow);
            border-color: var(--neon-yellow);
            box-shadow: inset 0 0 10px rgba(255, 230, 0, 0.2);
            text-shadow: 0 0 5px var(--neon-yellow);
        }
        .state-1:hover {
            background: var(--neon-yellow);
            color: #000;
            box-shadow: 0 0 15px var(--neon-yellow);
        }

        /* 狀態 2: 綠色 (Neon Green) */
        .state-2 {
            color: var(--neon-green);
            border-color: var(--neon-green);
            box-shadow: inset 0 0 10px rgba(57, 255, 20, 0.2);
            text-shadow: 0 0 5px var(--neon-green);
        }
        .state-2:hover {
            background: var(--neon-green);
            color: #000;
            box-shadow: 0 0 15px var(--neon-green);
        }

        /* 手機版優化 */
        @media (max-width: 480px) {
            #root { padding: 20px; }
            .button-grid { gap: 10px; }
            .status-button { font-size: 16px; }
        }
    </style>
</head>
<body>

    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;
        const { createRoot } = ReactDOM;

        const BUTTON_NUMBERS = [...Array(26).keys()].map(i => i + 1).concat(34);
        const STATUS_CLASSES = ['state-0', 'state-1', 'state-2'];

        // 預設按鈕狀態
        const initialButtonStates = BUTTON_NUMBERS.reduce((acc, num) => {
            acc[num] = 0; 
            return acc;
        }, {});

        const App = () => {
            const [title, setTitle] = useState('');
            const [buttonStates, setButtonStates] = useState(initialButtonStates);
            
            // 新增：狀態說明的 State
            const [legend, setLegend] = useState({
                0: '未完成 (NOT READY)',
                1: '處理中 (PROCESSING)',
                2: '已完成 (COMPLETED)'
            });

            // 處理說明文字變更
            const handleLegendChange = (index, value) => {
                setLegend(prev => ({
                    ...prev,
                    [index]: value
                }));
            };

            const handleButtonClick = (number) => {
                setButtonStates(prevStates => ({
                    ...prevStates,
                    [number]: (prevStates[number] + 1) % 3,
                }));
            };

            return (
                <>
                    {/* 標題輸入 */}
                    <input
                        type="text"
                        className="cyber-input"
                        value={title}
                        onChange={(e) => setTitle(e.target.value)}
                        placeholder="ENTER MISSION TITLE..."
                    />

                    {/* 燈號意義定義區塊 */}
                    <div className="legend-section">
                        <div className="legend-title">// STATUS DEFINITIONS (EDITABLE)</div>
                        
                        <div className="legend-row">
                            <div className="legend-dot" style={{backgroundColor: 'var(--neon-pink)'}}></div>
                            <input 
                                type="text" 
                                className="legend-input"
                                value={legend[0]} 
                                onChange={(e) => handleLegendChange(0, e.target.value)}
                            />
                        </div>
                        
                        <div className="legend-row">
                            <div className="legend-dot" style={{backgroundColor: 'var(--neon-yellow)'}}></div>
                            <input 
                                type="text" 
                                className="legend-input"
                                value={legend[1]} 
                                onChange={(e) => handleLegendChange(1, e.target.value)}
                            />
                        </div>

                        <div className="legend-row">
                            <div className="legend-dot" style={{backgroundColor: 'var(--neon-green)'}}></div>
                            <input 
                                type="text" 
                                className="legend-input"
                                value={legend[2]} 
                                onChange={(e) => handleLegendChange(2, e.target.value)}
                            />
                        </div>
                    </div>

                    {/* 按鈕主區域 */}
                    <div className="button-grid">
                        {BUTTON_NUMBERS.map(number => (
                            <button
                                key={number}
                                className={`status-button ${STATUS_CLASSES[buttonStates[number]]}`}
                                onClick={() => handleButtonClick(number)}
                                title={`Current Status: ${legend[buttonStates[number]]}`}
                            >
                                {number}
                            </button>
                        ))}
                    </div>
                </>
            );
        };

        const container = document.getElementById('root');
        const root = createRoot(container);
        root.render(<App />);
    </script>
</body>
</html>
